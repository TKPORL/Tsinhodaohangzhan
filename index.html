<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Tsinho导航站-全网资源合集</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --ios-blue: #007AFF;
            --ios-green: #34C759;
            --ios-bg: #F2F2F7;
            --ios-card: #FFFFFF;
            --radius-main: 1.2rem;
            --radius-inner: 1.2rem;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
        }
        
        body {
            background-color: var(--ios-bg);
            display: flex;
            justify-content: center;
            min-height: 100vh;
            color: #000;
        }

        .app-container {
            width: 100%;
            max-width: 768px;
            padding: 1rem 1rem 3rem;
            display: flex;
            flex-direction: column;
        }
        
        .app-header {
            text-align: left;
            padding-left: 0.5rem;
            margin-bottom: 2rem;
            margin-top: 0.5rem;
        }
        
        .app-title {
            font-size: clamp(2.5rem, 8vw, 4rem);
            font-weight: 800;
            letter-spacing: -0.05rem;
            color: #1c1c1e;
            margin-bottom: 0.5rem;
        }
        
        .app-subtitle {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            color: #8E8E93;
            font-weight: 500;
        }
        
        .search-container {
            margin: 0 auto 2rem;
            width: 100%;
        }
        
        .search-box {
            background: rgba(118, 118, 128, 0.12);
            border-radius: 2.5rem;
            padding: 1rem 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }
        
        .search-input {
            flex: 1;
            border: none;
            outline: none;
            background: transparent;
            font-size: clamp(1rem, 4vw, 1.3rem);
            color: #000;
        }

        .card-title {
            font-size: clamp(1.5rem, 5vw, 1.8rem);
            font-weight: 700;
            margin: 2rem 0 1.2rem;
            padding-left: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-count {
            font-size: clamp(1.1rem, 4vw, 1.4rem);
            color: var(--ios-blue);
            font-weight: 600;
        }

        .grid-layout {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .grid-layout.special {
            grid-template-columns: repeat(3, 1fr);
            gap: 0.8rem;
        }
        
        .big-button {
            background: var(--ios-card);
            border-radius: var(--radius-main);
            padding: 1.2rem 0.8rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            border: none;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
            transition: all 0.2s;
            cursor: pointer;
            text-decoration: none;
            min-height: 9rem;
            justify-content: center;
        }

        .big-button:active {
            transform: scale(0.96);
            background: #F5F5F7;
        }
        
        .button-icon {
            width: clamp(3.5rem, 10vw, 4.5rem);
            height: clamp(3.5rem, 10vw, 4.5rem);
            border-radius: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: clamp(1.5rem, 4vw, 2rem);
            margin-bottom: 0.8rem;
            box-shadow: 0 0.4rem 0.8rem rgba(0,0,0,0.1);
        }
        
        .button-name {
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            font-weight: 700;
            color: #1c1c1e;
            margin-bottom: 0.3rem;
            text-align: center;
        }

        .button-tag {
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            color: #8E8E93;
            font-weight: 500;
            text-align: center;
        }

        .blue { background: linear-gradient(180deg, #5AC8FA, #007AFF); }
        .green { background: linear-gradient(180deg, #66D482, #34C759); }
        .orange { background: linear-gradient(180deg, #FFB340, #FF9500); }
        .purple { background: linear-gradient(180deg, #BF5AF2, #AF52DE); }
        .pink { background: linear-gradient(180deg, #FF6482, #FF2D55); }
        .dark-blue { background: linear-gradient(180deg, #7D7AFF, #5856D6); }
        .red { background: linear-gradient(180deg, #FF6961, #FF3B30); }
        .cyan { background: linear-gradient(180deg, #70D7FF, #32D5D9); }

        .app-footer {
            background: var(--ios-card);
            border-radius: 1.2rem;
            padding: 1.5rem;
            margin-top: 1rem;
            box-shadow: 0 2px 12px rgba(0,0,0,0.06);
        }

        .footer-title {
            font-size: clamp(1.3rem, 4.5vw, 1.6rem);
            font-weight: 800;
            margin-bottom: 1.2rem;
            text-align: center;
        }

        .footer-highlight { color: var(--ios-blue); }

        .footer-info-box {
            background: rgba(242, 242, 247, 0.8);
            border-radius: 1rem;
            margin-bottom: 1.2rem;
        }

        .info-row {
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .info-row:last-child { border-bottom: none; }

        .info-row i { 
            font-size: 1.2rem; 
            color: var(--ios-blue); 
            width: 1.5rem; 
            text-align: center;
        }
        .info-row span { 
            font-size: 0.95rem; 
            color: #1c1c1e; 
            font-weight: 500;
        }

        .ios-btn-main {
            background: var(--ios-blue);
            color: white;
            width: 100%;
            padding: 1rem;
            border-radius: 1.2rem;
            font-size: 1.1rem;
            font-weight: 700;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .ios-btn-main:active { transform: scale(0.97); opacity: 0.9; }

        /* 弹窗样式 */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(15px);
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            z-index: 9999;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.98);
            width: 100%;
            max-width: 400px;
            border-radius: 1.4rem;
            padding: 1.5rem;
            box-shadow: 0 1rem 2rem rgba(0,0,0,0.2);
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-header-title {
            font-size: 1.3rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .ios-list {
            background: rgba(242, 242, 247, 0.8);
            border-radius: 1.2rem;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .ios-list-item {
            padding: 1.2rem 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            cursor: pointer;
            transition: background 0.2s;
        }
        .ios-list-item:active { background: rgba(0,0,0,0.05); }
        .ios-list-item:last-child { border-bottom: none; }

        .list-icon {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .list-text-main { 
            font-size: 1rem;
            font-weight: 600; 
            margin-bottom: 0.2rem;
        }
        
        .list-text-sub { 
            font-size: 0.85rem; 
            color: #8E8E93;
        }

        /* 密码弹窗样式 */
        .password-container {
            background: rgba(242, 242, 247, 0.8);
            border-radius: 1.2rem;
            padding: 1.5rem 1rem;
        }

        .password-input {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 1rem;
            background: white;
            font-size: 1.1rem;
            text-align: center;
            letter-spacing: 0.1rem;
            margin-bottom: 1rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .password-hint {
            text-align: center;
            font-size: 0.9rem;
            color: #3A3A3C;
            margin-bottom: 1rem;
            line-height: 1.4;
        }

        .password-actions {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .ios-btn-primary {
            background: var(--ios-blue);
            color: white;
            width: 100%;
            padding: 1rem;
            border-radius: 1.2rem;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
        }

        .ios-btn-secondary {
            background: transparent;
            color: var(--ios-blue);
            width: 100%;
            padding: 0.8rem;
            border: none;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.4rem;
        }

        /* 内置浏览器 - 仅百度解析站使用 */
        .browser-overlay {
            position: fixed;
            inset: 0;
            background: white;
            z-index: 10000;
            transform: translateY(100%);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
        }

        .browser-overlay.active {
            transform: translateY(0);
        }

        .browser-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 10001;
            background: rgba(242, 242, 247, 0.95);
            backdrop-filter: blur(10px);
            padding: 0.8rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            height: 60px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .browser-back {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            background: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--ios-blue);
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            flex-shrink: 0;
        }

        .browser-address-bar {
            flex: 1;
            background: white;
            border-radius: 1.2rem;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            text-align: center;
            border: none;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .browser-refresh {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            background: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--ios-blue);
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            flex-shrink: 0;
        }

        .browser-frame-container {
            flex: 1;
            margin-top: 60px;
            position: relative;
            overflow: hidden;
            background: white;
        }

        .browser-frame {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        /* Toast - 底部中间 */
        #toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 1rem;
            font-size: 0.95rem;
            font-weight: 500;
            z-index: 10002;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            text-align: center;
            line-height: 1.4;
        }

        #toast.show {
            opacity: 1;
            visibility: visible;
            animation: toastSlideUp 0.3s ease;
        }

        @keyframes toastSlideUp {
            from { 
                opacity: 0; 
                transform: translateX(-50%) translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateX(-50%) translateY(0); 
            }
        }

        @media (min-width: 768px) {
            .app-container { padding: 2rem 1.5rem; }
        }

        /* 去掉所有 outline */
        *:focus {
            outline: none !important;
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="app-header">
        <h1 class="app-title">Tsinho</h1>
        <p class="app-subtitle">全网优质资源 · 极速直达</p>
    </div>

    <div class="search-container">
        <div class="search-box">
            <i class="fas fa-search" style="color: #8E8E93; margin-left: 0.3rem;"></i>
            <input type="text" id="searchInput" class="search-input" placeholder="搜索资源、软件或教程...">
        </div>
    </div>
    
    <h2 class="card-title">资源库 <span class="card-count">11</span></h2>
    <div class="grid-layout">
        <div class="big-button" onclick="openAllResModal()">
            <div class="button-icon blue"><i class="fas fa-archive"></i></div>
            <div class="button-name">全资源</div>
            <div class="button-tag">分类合集</div>
        </div>
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZYCq0tErl5')">
            <div class="button-icon green"><i class="fas fa-laptop-code"></i></div>
            <div class="button-name">实用软件</div>
            <div class="button-tag">精品破解</div>
        </div>
        <div class="big-button" onclick="openLaoSiJiModal()">
            <div class="button-icon orange"><i class="fas fa-gamepad"></i></div>
            <div class="button-name">老司机</div>
            <div class="button-tag">黄色小玩意</div>
        </div>
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZYCq0tEPqe')">
            <div class="button-icon dark-blue"><i class="fas fa-globe-americas"></i></div>
            <div class="button-name">VPN</div>
            <div class="button-tag">网络加速</div>
        </div>
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZXpjCvtWww')">
            <div class="button-icon pink"><i class="fas fa-image"></i></div>
            <div class="button-name">绅士壁纸</div>
            <div class="button-tag">绅士图片</div>
        </div>
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZXSmDnDp67')">
            <div class="button-icon purple"><i class="fas fa-film"></i></div>
            <div class="button-name">影音娱乐</div>
            <div class="button-tag">影视音乐</div>
        </div>
        <!-- 大小型游戏 - 链接已修正 -->
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZZesFZFmhv')">
            <div class="button-icon cyan"><i class="fas fa-dice"></i></div>
            <div class="button-name">大小型游戏</div>
            <div class="button-tag">游戏合集</div>
        </div>
        <!-- iOS签名证书 - 链接已修正 -->
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZYZryXDsry')">
            <div class="button-icon blue"><i class="fas fa-signature"></i></div>
            <div class="button-name">iOS签名证书</div>
            <div class="button-tag">签名工具</div>
        </div>
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZXSmDnDz0o')">
            <div class="button-icon green"><i class="fas fa-file-alt"></i></div>
            <div class="button-name">资源更新文档</div>
            <div class="button-tag">已停止更新</div>
        </div>
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZXpjCvuw2l')">
            <div class="button-icon purple"><i class="fas fa-download"></i></div>
            <div class="button-name">各大网盘帮下载</div>
            <div class="button-tag">帮下载</div>
        </div>
    </div>

    <h2 class="card-title">网盘提速 <span class="card-count">3</span></h2>
    <div class="grid-layout special">
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZXyki8UVu8')">
            <div class="button-icon orange"><i class="fas fa-wrench"></i></div>
            <div class="button-name">网盘工具</div>
            <div class="button-tag">必备增强</div>
        </div>
        <!-- 百度解析站：先验证密码，再内置浏览器 -->
        <div class="big-button" onclick="checkBaiduAccess()">
            <div class="button-icon red"><i class="fas fa-link"></i></div>
            <div class="button-name">百度解析站</div>
            <div class="button-tag">高速直链</div>
        </div>
        <div class="big-button" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZXpjCsUd2v')">
            <div class="button-icon green"><i class="fas fa-book"></i></div>
            <div class="button-name">网盘教程</div>
            <div class="button-tag">避坑指南</div>
        </div>
    </div>

    <div class="app-footer">
        <div class="footer-title">关于 <span class="footer-highlight">Tsinho导航站</span></div>
        <div class="footer-info-box">
            <div class="info-row">
                <i class="fas fa-shield-alt"></i>
                <span>由 Tsinho 独立维护并提供安全支持</span>
            </div>
            <div class="info-row">
                <i class="fas fa-sync"></i>
                <span>资源全天候实时同步，极致体验</span>
            </div>
        </div>
        <button class="ios-btn-main" onclick="openAboutModal()">
            <i class="fas fa-info-circle"></i> 查看详细信息
        </button>
    </div>
</div>

<!-- 全资源弹窗 -->
<div class="modal-overlay" id="allResModal" onclick="closeAllResModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header-title">资源类别</div>
        <div class="ios-list">
            <div class="ios-list-item" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZWof8pjtb3')">
                <div class="list-icon green"><i class="fas fa-laptop"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">软件分享</div>
                    <div class="list-text-sub">聚合全网优质工具软件</div>
                </div>
                <i class="fas fa-chevron-right" style="color: #C7C7CC;"></i>
            </div>
            <div class="ios-list-item" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZWNgWHfNwr')">
                <div class="list-icon blue"><i class="fas fa-tools"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">网盘工具</div>
                    <div class="list-text-sub">提升网盘使用体验的神器</div>
                </div>
                <i class="fas fa-chevron-right" style="color: #C7C7CC;"></i>
            </div>
        </div>
    </div>
</div>

<!-- 老司机弹窗 -->
<div class="modal-overlay" id="laoSiJiModal" onclick="closeLaoSiJiModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header-title">选择频道</div>
        <div class="ios-list">
            <div class="ios-list-item" onclick="go('https://yun.139.com/shareweb/#/w/i/2sNZXpjCvuYya')">
                <div class="list-icon green"><i class="fas fa-video"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">看片软件</div>
                    <div class="list-text-sub">直接访问</div>
                </div>
                <i class="fas fa-chevron-right" style="color: #C7C7CC;"></i>
            </div>
            <div class="ios-list-item" onclick="copyHuangYou()">
                <div class="list-icon orange"><i class="fas fa-gamepad"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">黄游游戏</div>
                    <div class="list-text-sub">点击复制链接</div>
                </div>
                <i class="fas fa-copy" style="color: #C7C7CC;"></i>
            </div>
        </div>
    </div>
</div>

<!-- 关于弹窗 -->
<div class="modal-overlay" id="aboutModal" onclick="closeAboutModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header-title">详细信息</div>
        <div class="ios-list">
            <div class="ios-list-item" onclick="go('https://link3.cc/xakjyxgs')">
                <div class="list-icon dark-blue"><i class="fas fa-globe"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">官网地址</div>
                    <div class="list-text-sub">link3.cc/xakjyxgs</div>
                </div>
            </div>
            <div class="ios-list-item" onclick="copyContact('email')">
                <div class="list-icon blue"><i class="fas fa-envelope"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">作者邮箱</div>
                    <div class="list-text-sub">Tsinhos@qq.com</div>
                </div>
            </div>
            <div class="ios-list-item" onclick="copyContact('qq')">
                <div class="list-icon green"><i class="fas fa-comment"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">作者 QQ</div>
                    <div class="list-text-sub">1625862774</div>
                </div>
            </div>
            <div class="ios-list-item" onclick="copyContact('qqgroup')">
                <div class="list-icon purple"><i class="fas fa-users"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">官方群聊</div>
                    <div class="list-text-sub">1065975237</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 百度解析站线路选择弹窗 -->
<div class="modal-overlay" id="baiduModal" onclick="closeBaiduModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header-title">选择线路</div>
        <div class="ios-list">
            <div class="ios-list-item" onclick="openBaiduBrowser('https://analysis.icy6.cn', '线路 01')">
                <div class="list-icon blue"><i class="fas fa-rocket"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">线路 01</div>
                    <div class="list-text-sub">推荐使用 · 稳定高速</div>
                </div>
                <i class="fas fa-chevron-right" style="color: #C7C7CC;"></i>
            </div>
            <div class="ios-list-item" onclick="openBaiduBrowser('https://kdown.moiu.cn/free/#/index', '线路 02')">
                <div class="list-icon orange"><i class="fas fa-bolt"></i></div>
                <div style="flex:1">
                    <div class="list-text-main">线路 02</div>
                    <div class="list-text-sub">备用线路 · 支持大文件</div>
                </div>
                <i class="fas fa-chevron-right" style="color: #C7C7CC;"></i>
            </div>
        </div>
    </div>
</div>

<!-- 密码验证弹窗 -->
<div class="modal-overlay" id="passwordModal" onclick="closePasswordModal(event)">
    <div class="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header-title">访问验证</div>
        <div class="password-container">
            <div class="password-hint">
                该内容需要验证密码后访问
            </div>
            <input type="password" class="password-input" id="pwdInput" placeholder="请输入访问密码" maxlength="20">
            <div class="password-actions">
                <button class="ios-btn-primary" onclick="verifyPassword()">确认</button>
                <a href="#" onclick="go('https://yun.139.com/shareweb/#/w/i/2sUfBuomz5x8y'); return false;" class="ios-btn-secondary">
                    <i class="fas fa-key"></i> 获取访问密码
                </a>
            </div>
        </div>
    </div>
</div>

<!-- 内置浏览器 - 仅百度解析站使用 -->
<div class="browser-overlay" id="browserOverlay">
    <div class="browser-header">
        <button class="browser-back" onclick="closeBaiduBrowser()">
            <i class="fas fa-chevron-left"></i>
        </button>
        <div class="browser-address-bar" id="browserAddress">百度解析站</div>
        <button class="browser-refresh" onclick="refreshBaiduBrowser()">
            <i class="fas fa-redo"></i>
        </button>
    </div>
    <div class="browser-frame-container">
        <iframe class="browser-frame" id="browserFrame" sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-top-navigation"></iframe>
    </div>
</div>

<div id="toast"></div>

<script>
    // ========== 配置 ==========
    const CONFIG = {
        password: 'Tsinho2255',
        passwordVersion: '2.0',
        storageKey: 'tsinho_baidu_auth'
    };

    // ========== 通用跳转（外部浏览器）==========
    function go(url) {
        window.location.href = url;
    }

    // ========== 弹窗管理 ==========
    function openAllResModal() {
        document.getElementById('allResModal').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeAllResModal(e) {
        if (!e || e.target.id === 'allResModal') {
            document.getElementById('allResModal').classList.remove('active');
            document.body.style.overflow = '';
        }
    }

    function openLaoSiJiModal() {
        document.getElementById('laoSiJiModal').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeLaoSiJiModal(e) {
        if (!e || e.target.id === 'laoSiJiModal') {
            document.getElementById('laoSiJiModal').classList.remove('active');
            document.body.style.overflow = '';
        }
    }

    function openAboutModal() {
        document.getElementById('aboutModal').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeAboutModal(e) {
        if (!e || e.target.id === 'aboutModal') {
            document.getElementById('aboutModal').classList.remove('active');
            document.body.style.overflow = '';
        }
    }

    function openBaiduModal() {
        document.getElementById('baiduModal').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeBaiduModal(e) {
        if (!e || e.target.id === 'baiduModal') {
            document.getElementById('baiduModal').classList.remove('active');
            document.body.style.overflow = '';
        }
    }

    function openPasswordModal() {
        const modal = document.getElementById('passwordModal');
        modal.classList.add('active');
        document.getElementById('pwdInput').value = '';
        setTimeout(() => document.getElementById('pwdInput').focus(), 300);
    }

    function closePasswordModal(e) {
        if (!e || e.target.id === 'passwordModal') {
            document.getElementById('passwordModal').classList.remove('active');
        }
    }

    // ========== 复制功能 ==========
    function copyHuangYou() {
        const url = 'https://drive.uc.cn/s/fb9fb0ca4e4f4';
        copyToClipboard(url, '链接已复制<br>请到浏览器粘贴访问');
        closeLaoSiJiModal();
    }

    function copyContact(type) {
        let text = '';
        switch(type) {
            case 'email': text = 'Tsinhos@qq.com'; break;
            case 'qq': text = '1625862774'; break;
            case 'qqgroup': text = '1065975237'; break;
        }
        copyToClipboard(text, '已复制：' + text);
    }

    function copyToClipboard(text, successMsg) {
        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(successMsg);
            }).catch(() => {
                fallbackCopy(text, successMsg);
            });
        } else {
            fallbackCopy(text, successMsg);
        }
    }

    function fallbackCopy(text, successMsg) {
        const input = document.createElement('textarea');
        input.value = text;
        document.body.appendChild(input);
        input.select();
        document.execCommand('copy');
        document.body.removeChild(input);
        showToast(successMsg);
    }

    // ========== 百度解析站密码系统 ==========
    function isVerified() {
        try {
            const data = JSON.parse(localStorage.getItem(CONFIG.storageKey) || '{}');
            return data.verified === true && data.version === CONFIG.passwordVersion;
        } catch(e) {
            return false;
        }
    }

    function saveVerified() {
        const data = {
            verified: true,
            version: CONFIG.passwordVersion,
            timestamp: Date.now()
        };
        localStorage.setItem(CONFIG.storageKey, JSON.stringify(data));
    }

    function checkBaiduAccess() {
        if (isVerified()) {
            openBaiduModal();
        } else {
            openPasswordModal();
        }
    }

    function verifyPassword() {
        const input = document.getElementById('pwdInput').value.trim();
        
        if (input === CONFIG.password) {
            saveVerified();
            closePasswordModal();
            document.getElementById('pwdInput').value = '';
            
            const authorizedTime = new Date().toLocaleDateString('zh-CN', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            showToast('欢迎回来！<br>授权日期：' + authorizedTime);
            
            setTimeout(() => {
                openBaiduModal();
            }, 600);
        } else {
            showToast('密码错误');
            document.getElementById('pwdInput').value = '';
            
            const container = document.querySelector('.password-container');
            container.style.animation = 'shake 0.5s';
            setTimeout(() => {
                container.style.animation = '';
            }, 500);
        }
    }

    document.getElementById('pwdInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') verifyPassword();
    });

    // ========== 内置浏览器 - 仅百度解析站 ==========
    function openBaiduBrowser(url, title) {
        closeBaiduModal();
        
        const overlay = document.getElementById('browserOverlay');
        const frame = document.getElementById('browserFrame');
        const address = document.getElementById('browserAddress');
        
        address.textContent = title || '百度解析站';
        frame.src = url;
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeBaiduBrowser() {
        const overlay = document.getElementById('browserOverlay');
        const frame = document.getElementById('browserFrame');
        
        overlay.classList.remove('active');
        document.body.style.overflow = '';
        
        setTimeout(() => { 
            frame.src = 'about:blank'; 
        }, 300);
    }

    function refreshBaiduBrowser() {
        const frame = document.getElementById('browserFrame');
        frame.src = frame.src;
    }

    // ========== Toast（底部中间）==========
    function showToast(text) {
        const toast = document.getElementById('toast');
        toast.innerHTML = text;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 2500);
    }

    // ========== 搜索 ==========
    document.getElementById('searchInput').addEventListener('input', function(e) {
        const val = e.target.value.toLowerCase();
        const btns = document.querySelectorAll('.big-button');
        btns.forEach(btn => {
            const text = btn.innerText.toLowerCase();
            btn.style.display = text.includes(val) ? 'flex' : 'none';
        });
    });

    // 添加shake动画
    const style = document.createElement('style');
    style.textContent = `
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    `;
    document.head.appendChild(style);
</script>

</body>
</html>
